#
# ~/.config/zsh/zshinterface
#

# configure prompt
PS1='%F{yellow}[%c %(?..%F{green})%#%F{yellow}]%f '

# configure key bindings 
bindkey -v
KEYTIMEOUT=1 
bindkey -M vicmd '' autosuggest-execute
bindkey -M viins '^?' backward-delete-char
bindkey -M viins '^[[3~' delete-char
bindkey -M viins '' accept-line

# change cursor style depending on mode
zle-keymap-select () {
  case $KEYMAP in
    vicmd)      echo -ne "\e[2 q";; # block cursor
    viins|main) echo -ne "\e[6 q";; # line cursor
  esac
}
zle-line-init () {
  echo -ne "\e[6 q" # line cursor
}
accept-line () {
  echo -ne "\e[2 q" # block cursor
  zle .accept-line
}

zle -N zle-keymap-select
zle -N zle-line-init
zle -N accept-line
